<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>JavaScript Demo</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="C:\Users\Return Trucks\Pictures\demo-git\javascrpipt-demo\jsfevicon.png">
    <link rel="stylesheet" href="jscsspage.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

</head>

<body>
    <div class="container">

        <form action="abcd" method="get" id="textForm" name="formList" autocomplete="off">
            <h2>STUDENT DATA</h2>
            <div class="form-container">
                <div class="form-group">
                    <label for="studentName">Student name</label>
                    <input type="text" id="textfields" name="StudentName" maxlength="30" pattern="[A-Za-z\s]+"
                        placeholder="Enter full name" required>
                </div>
                <div class="form-group">
                    <label for="fatherName">Father name</label>
                    <input type="text" id="textfields" name="FatherName" maxlength="30" pattern="[A-Za-z\s]+"
                        placeholder="Enter father name" required>
                </div>
                <div class="form-group">
                    <label for="Address">Address</label>
                    <input type="text" name="Address" placeholder="Enter full address" required>
                </div>
                <div class="form-group">
                    <label for="Phnumber">Phone number</label>
                    <input type="tel" name="Phnumber" id="digits" placeholder="Enter phone number" maxlength="10"
                        required>
                </div>
                <div class="form-group">
                    <label for="Marks">Marks</label>
                    <input type="number" name="Marks" id="digits" placeholder="Enter your marks" maxlength="3" required>
                </div>
                <div class="form-group">
                    <label for="Email">Email address</label>
                    <input type="email" name="Email" id="mailing" placeholder="Enter mail address" required>
                </div>
                <div class="submit-btn">
                    <button type="button" value="submit" name="submit" class="btn1" id="displayButton"
                        onclick="myFunction()"> SUBMIT </button>
                    <button type="reset" name="clear" class="btn1">CLEAR</button>
                </div>
                <div class="tab">
                    <div class="tab-data">
                    <table  width="100%" class="table-content"  > 
                        <thead>
                        <tr>
                            <th> Student name</th>
                            <th> Father name</th>
                            <th> Address </th>
                            <th> Phone number</th>
                            <th> Marks </th>
                            <th> Email address </th>
                            <th> Actions </th>
                        </tr></thead>
                        <tbody>
                            <tr id="sname"></tr>
                            <tr id="fname"></tr>
                            <tr id="address"></tr>
                            <tr id="phno"></tr>
                            <tr id="marks"></tr>
                            <tr id="email"></tr>
                        </tbody>
                    </table>
                </div>
                </div>
                <div id="formData" style="display: flex; width: 100%; flex-direction: row; gap: 10px; height: 100%;">
                </div>
            </div>

        </form>

    </div>

    <script>
        function myFunction() {
            if (validate()) {
               
                displayFormData();
            }

        }

        function displayFormData() {
            const form = document.getElementById('textForm');
            const formDataDiv = document.getElementById('formData');
            const formData = new FormData(form);

            formDataDiv.innerHTML = ''; // Clear previous data

            formData.forEach((value, key) => {
                const paragraph = document.createElement('div');
                paragraph.innerHTML = `<strong>${key}:</strong> ${value} <div style="display: inline; float: right;">
                    <span class="material-symbols-outlined" onclick="editEntry('${key}', '${value}')"> contract_edit </span> 
                    <span class="material-symbols-outlined" onclick="deleteEntry(this, '${value}')"> delete </span></div>`;
                formDataDiv.appendChild(paragraph);
            });
            form.reset();
        }

        function editEntry(key, value) {
            const form = document.getElementById('textForm');
            const input = form.querySelector(`[name="${key}"]`);
            if (input) {
                input.value = value;
            }
        }

        function deleteEntry(element, value) {
            const parentDiv = element.closest('div');
            parentDiv.parentElement.remove();

            formData.delete(value);


            const form = document.getElementById('textForm');
            const input = form.querySelector(`[name="${key}"]`);
            if (input) {
                input.value = '';
            }


            const parentDivs = element.closest('div');
            const paragraph = parentDivs.parentElement;
            paragraph.innerHTML = `<strong>${key}:</strong> <div style="display: inline; float: right;">
                <span class="material-symbols-outlined" onclick="editEntry('${key}', '')"> contract_edit </span> 
                <span class="material-symbols-outlined" onclick="deleteEntry(this, '${key}')"> delete </span></div>`;


        }

        // Form validation code
        function validate() {
            if (document.formList.StudentName.value == "") {
                alert("Please provide your name!");
                document.formList.StudentName.focus();
                return false;
            }

            if (document.formList.FatherName.value == "") {
                alert("Please provide your father name!");
                document.formList.FatherName.focus();
                return false;
            }
            if (document.formList.Address.value == "") {
                alert("Please provide your address!");
                document.formList.Address.focus();
                return false;
            }
            if (document.formList.Phnumber.value == "" || isNaN(document.formList.Phnumber.value) ||
                document.formList.Phnumber.value.length != 10) {
                alert("Please provide a Phone number in the format (0-9) Digits only.");
                document.formList.Phnumber.focus();
                return false;
            }
            if (document.formList.Marks.value == "" || isNaN(document.formList.Marks.value)) {
                alert("Please provide your Marks!");
                document.formList.Marks.focus();
                return false;
            }
            if (document.formList.Email.value == "") {
                alert("Please provide your Email ID!");
                document.formList.Email.focus();
                return false;

            }

            return true;
        } 
    </script>
</body>

</html>